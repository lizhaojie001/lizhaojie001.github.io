<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="严青的博客">
    <meta name="keyword"  content="中科创达">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        App Thinning (App 瘦身) - 严青的博客 | YQ&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Half measures are as bad as nothing at all </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/author.jpg" />
        </div>
        <div class="name">
            <i>严青</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>SEARCH</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言在这"><span class="toc-text">前言在这</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Slicing-切片-iOS-tvOS"><span class="toc-text">Slicing(切片) (iOS, tvOS)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bitcode-字节码"><span class="toc-text">Bitcode(字节码)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#On-Demand-响应式-Resources-iOS-tvOS"><span class="toc-text">On-Demand(响应式) Resources (iOS, tvOS)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#原文出处"><span class="toc-text">原文出处</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Half measures are as bad as nothing at all </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        App Thinning (App 瘦身)
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2016-10-08 17:26:02</span></span>
        
        <span class="attr">Tags：/
        
        <a class="tag" href="/tags/#技术" title="技术">技术</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="前言在这"><a href="#前言在这" class="headerlink" title="前言在这"></a>前言在这</h2><blockquote>
<p> 针对于iOS,TVOS和watchOS设备上APP的安装和下载问题,通过削减APP提交下载到特有设备的容量,使你的app适配大部分设备,占用更少的存储空间,并适应你的更新需求.苹果公司推出了一种下载速度快,空间大,内容更好的用户体验手段,就是App Thinning 技术.</p>
</blockquote>
<p>This chapter describes the three components of app thinning:<strong> slicing, bitcode, and on-demand resources
</strong></p>
<h2 id="Slicing-切片-iOS-tvOS"><a href="#Slicing-切片-iOS-tvOS" class="headerlink" title="Slicing(切片) (iOS, tvOS)"></a>Slicing(切片) (iOS, tvOS)</h2><blockquote>
<p>Scling技术是对不同终端设备下创建和传递的app bundle的变量的一种方式.一个变量体只包含一种终端设备所需要的执行架构和资源文件.你可以继续开发和上传完整版的app到iTunes Connect . app store 将会根据你的设备创建和传递不同的变量.图片资源也会根据他们的解决方案和设备家族来剪裁图片.GPU资源也会根据你的设备容量进行裁剪.对于tvOS apps ,在iOS和tvOStargets 目录中被共享的assets也会被剪裁 较大的app icons也会移除掉.<br>xcode模拟器在你看法创建本地测试版本是也会slicing.当你build run 你的app 在你设备上时,xcode也会slicing.当你创建一个存档,Xcode包括应用程序的完整版,但允许你从存档中输出变体版本。</p>
</blockquote>
<p><strong>注意</strong>: Sliced apps are supported on devices running 9.0 and later; otherwise, the store delivers universal apps to customers.<br><img src="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/Art/app_thinning_2x.png" alt=""></p>
<blockquote>
<p>slicing在你执行正常开发和发布的工作流,通常进行如下:</p>
</blockquote>
<ul>
<li>1.在xcode中,针对于特有的设备在asset的图片目录中提供多重解决方案.但是你必须使用asset catalog存储资源 这样才会被sliced.</li>
<li>2.创建并运行在你的虚拟机或者设备上.xcode将会创建一个版本,针对你的测试设备,提高你的测试创建时间,允许你本地化测试.</li>
<li>3.为你选择的设备创建一个你的app存档.测试你输出的所有版本提前发现问题.</li>
<li>4.上传你的app到iTunes Connect.app store 将会根据不同的归档文件创建多个版本.版本的数量是根据xcode工程中的规定的框架和资源来确定的.</li>
<li>5.在iTunes中,发布一个抢先版为你指定的测试者.测试者可以用TestFlight(蒲公英)安装抢先版到支持的设备上.蒲公英将会下载一个支持的版本到测试者的设备上.<br><strong>注意:</strong>在你发布之前,邀请一些测试者,如果你邀请了一些外部测试者,那么这些外部测试者在下载之前必须等到Beta App Review 的批准.</li>
<li>6.在iTunes中,发布你的app.用户安装app,商店就会针对于他们的设备为之提供相应的下载版本.</li>
</ul>
<h2 id="Bitcode-字节码"><a href="#Bitcode-字节码" class="headerlink" title="Bitcode(字节码)"></a>Bitcode(字节码)</h2><blockquote>
<p>Bitcode是一种编译文件的中间产物.当你上传app到iTunes时 , 你的app将会包含编译连接到app store 的bitcode.包含bitcode的app,你不需要重新提交一个新的版本苹果公司重新优化你的app的二进制文件.</p>
</blockquote>
<blockquote>
<p>Xcode默认你创建时隐藏了这种集成,因此他们是不可读的.也只有你选择了这种特性,在你上传到iTunes时,苹果才会收到这种信号进一步优化你的应用.你也必须包含这种标志来接受苹果给出的crash报告.</p>
</blockquote>
<p><strong>注意</strong>:对于iOS来说,bitcode是默认的,也可以选择.对于watchOS和tvOS应用,bitcode是必须的.如果你提供bitcode,你app的bundle中的所有应用和框架都必须包含bitcode.</p>
<h2 id="On-Demand-响应式-Resources-iOS-tvOS"><a href="#On-Demand-响应式-Resources-iOS-tvOS" class="headerlink" title="On-Demand(响应式) Resources (iOS, tvOS)"></a>On-Demand(响应式) Resources (iOS, tvOS)</h2><blockquote>
<p>On-Demand Resources就好比是:图片/声音 你可以标记关键字和请求的通过tag值.苹果服务器上将为你提供存储主机资源和管理下载的服务.On-Demand(请求式) Resources 能够提高下载速度,减小 app体积,提供瞬时安装的快感.比如,一个游戏app可能被分为游戏级别的资源,而只有你在提前测试app时,才能到达这个级别高度的请求.类似的,你的app可能在用户使用内购的时候才会请求ln-APP Purchase 资源.<br>当他们的不在使用或者硬盘空间比较少的时候,操作系统就会清除on-demand resources.如果你你在store外进行测试和发布,你就不得不自己提供on-demand resources功能的服务器.值得注意的是,可执行的on-demand resources 是不支持的.正如<a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW1" target="_blank" rel="noopener">Slicing(iOS,tvOS)</a>store 也会裁剪on-demand resources,来更快提高用户体验.<br>对于用户想而易见,当用户探究app的新功能时就必须提供新的资源,on-demand resources 是就会在后台工作的.</p>
</blockquote>
<p><img src="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/Art/on_demand_resources_2x.png" alt=""></p>
<p>为了在你的app中使用on-demand resources,请阅读<a href="https://developer.apple.com/library/content/documentation/FileManagement/Conceptual/On_Demand_Resources_Guide/index.html#//apple_ref/doc/uid/TP40015083" target="_blank" rel="noopener">On-Demand Resources Guide</a> 和 <a href="https://developer.apple.com/reference/foundation/nsbundleresourcerequest" target="_blank" rel="noopener">NSBundleResourceRequest Class Reference.</a></p>
<h2 id="原文出处"><a href="#原文出处" class="headerlink" title="原文出处"></a><strong><a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/AppThinning/AppThinning.html#//apple_ref/doc/uid/TP40012582-CH35-SW3" target="_blank" rel="noopener">原文出处</a></strong></h2>
        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">donate</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢鼓励 </p>
    </div>
</div>
        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        
        <li>
            <a target="_blank" href="http://weibo.com/3293104657">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        

        
        <li>
            <a target="_blank"  href="https://github.com/lizhaojie001">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/js/gitment.js"></script>
<script>
    var gitment = new Gitment({
        id: 'App Thinning (App 瘦身)',
        owner: '严青',
        repo: 'hexo-aircloud-blog',
        oauth: {
            client_id: '1ec42b02a0e9e84bfe10',
            client_secret: 'f6fc589ccc3f6ce440143bcf753609977ce63e52',
        },
    })
    gitment.render('comment-container')
</script>

</html>
